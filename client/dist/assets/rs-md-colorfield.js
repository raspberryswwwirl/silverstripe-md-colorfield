import{o as b,c as V,w as h,r as F,a as H,b as B,t as N,d as t,e as k,f as U,g as j,h as q,i as J,j as L,k as m,l as f,m as I,v as P,n as O,p as A,q as R,F as K,s as G,u as Q,x as W,y as X}from"./rs-vendor.js";var E=(o,l)=>{const s=o.__vccOpts||o;for(const[a,v]of l)s[a]=v;return s};const Y={name:"MDText",props:{label:{type:String,default(){return"Untitled"}},wrap:{type:Boolean,default(){return!0}},gutters:{type:Number,default(){return 0}},scale:{type:String,default(){return"Body1"}},tag:{type:String,default(){return"mdtext"}}}};function Z(o,l,s,a,v,r){return b(),V(H(s.tag),{wrap:s.wrap,gutters:s.gutters,scale:s.scale},{default:h(()=>[F(o.$slots,"default",{},()=>[B(N(s.label),1)],!0)]),_:3},8,["wrap","gutters","scale"])}var $=E(Y,[["render",Z],["__scopeId","data-v-052fe06b"]]);class u{constructor(l){this.__key="key"in l?l.key:null,this.__value="value"in l?this.validate(l.value):null,this.__color={light:t("#eef0f4"),dark:t("#303b4d")},this.__id=`Swatch-${this.__key}-${this.__value.toHex()}`}get key(){return this.__key}set key(l){this.__key=l}get value(){return this.__value}set value(l){this.__value=l}validate(l){let s=t(l);return s.isValid()?s:!1}accessibility(){let l=this.__value.isDark()?this.__color.light:this.__color.dark,s=this.__value;return t.isReadable(s,l)?null:"poor"}isBaseColor(){return this.__key=="500"}toID(){return this.__id}toString(){return this.__value?this.__value.toHexString():null}toStyle(){return{backgroundColor:this.toString(),color:this.__value.isDark()?this.__color.light.toHexString():this.__color.dark.toHexString()}}}var ee=`md-vue-colorpicker{display:flex;position:relative;box-sizing:border-box;width:100%;max-width:256px;min-width:256px;flex-flow:row nowrap;align-items:center;justify-content:flex-start}:host md-sheet,:host md-sheetbody,:host md-sheettitle,:host md-colorlist,:host label.md-swatch,:host md-swatchlabel,:host md-swatchkey{display:flex;position:relative;box-sizing:border-box}:host md-sheet,:host md-sheetbody,:host md-sheettitle,:host md-colorlist,:host label.md-swatch{width:100%;max-width:100%}:host md-sheetbody,:host md-colorlist{flex-flow:column nowrap}:host md-sheettitle{display:none}:host .md-colorpicker{margin-bottom:24px}:host md-colorlist label.md-swatch{flex-flow:row nowrap;margin-bottom:1px;line-height:48px;padding-left:24px;transition:all .3s cubic-bezier(.4,0,.2,1)}:host md-colorlist label.md-swatch[disabled]{pointer-events:none;opacity:.5}@supports (filter: grayscale(80%)){:host md-colorlist label.md-swatch[disabled]{filter:grayscale(80%)}}:host md-colorlist label.md-swatch:before,:host md-colorlist label.md-swatch:after{position:absolute;left:100%;top:0;line-height:inherit;padding-left:12px;white-space:nowrap;opacity:.7;font-size:10px;text-transform:uppercase;pointer-events:none}:host md-colorlist label.md-swatch[contrast=poor]:after{content:"Insufficient Contrast";color:#da273b}:host md-colorlist label.md-swatch[contrast=poor][base=true]:after{content:none}:host md-colorlist label.md-swatch[base=true]:before{content:"Base Color";text-transform:none;color:#303b4d;opacity:1;font-size:12px}:host md-colorlist label.md-swatch input[type=checkbox]{position:absolute;margin:0;left:0;top:50%;z-index:2;transform:translate(11px,-50%)}:host md-colorlist md-swatchlabel{flex:0 0 100%;padding:0 12px;flex-flow:row nowrap;align-items:center;justify-content:space-between;color:inherit}:host md-colorlist md-swatchlabel md-swatchkey,:host md-colorlist md-swatchlabel md-swatchlabel{color:inherit}
`;const te={name:"MaterialColorPicker",components:{MDText:$},props:{id:{type:String,default(){return null}},title:{type:String,default(){return"Untitled"}},value:{type:String,default(){return null}},selections:{type:String,default(){return null}},selectionsfield:{type:String,default(){return null}},field:{type:String,default(){return null}}},setup(o,{emit:l}){const a=k([]),v=k([]),r=k(null),c=k(null),x=U(()=>{var e;return(e=o.field)!=null?e:null}),g=U({get:()=>o.value,set:e=>{o.value=e,a.value=[],r.value.value=e,r.value.classList.add("dirty"),w(),l("update:value",e)}}),S=e=>a.value.length>=3&&a.value.indexOf(e)==-1?!0:null,C=(e,n)=>(e.b=Math.floor(e.b*n.b/255),e.g=Math.floor(e.g*n.g/255),e.r=Math.floor(e.r*n.r/255),t("rgb "+e.r+" "+e.g+" "+e.b)),w=()=>{var y,z,T;if(!o.value||!r.value)return!1;let e=((y=r.value)==null?void 0:y.value)!=o.value&&(T=(z=r.value)==null?void 0:z.value)!=null?T:o.value,n=t("#ffffff"),d=C(t(e).toRgb(),t(e).toRgb()),_=t(e).tetrad(),p=[new u({key:"50",value:t.mix(n,e,12)}),new u({key:"100",value:t.mix(n,e,30)}),new u({key:"200",value:t.mix(n,e,50)}),new u({key:"300",value:t.mix(n,e,70)}),new u({key:"400",value:t.mix(n,e,85)}),new u({key:"500",value:t.mix(n,e,100)}),new u({key:"600",value:t.mix(d,e,87)}),new u({key:"700",value:t.mix(d,e,70)}),new u({key:"800",value:t.mix(d,e,54)}),new u({key:"900",value:t.mix(d,e,25)}),new u({key:"A100",value:t.mix(d,_[4],15).saturate(80).lighten(65)}),new u({key:"A200",value:t.mix(d,_[4],15).saturate(80).lighten(55)}),new u({key:"A400",value:t.mix(d,_[4],15).saturate(100).lighten(45)}),new u({key:"A700",value:t.mix(d,_[4],15).saturate(100).lighten(40)})];return v.value=p},M=()=>c.value.value=a.value?JSON.stringify([...a.value]):"",D=e=>v.value.filter(n=>n.key==e),i=()=>{var n,d,_,p,y;r.value=r.value?r.value:document.querySelector(`#${x.value}`),c.value=c.value?c.value:document.querySelector(`#${o.selectionsfield}`),w();let e=D("50");!!e&&!e.toString()==((n=r.value)==null?void 0:n.value)?a.value=JSON.parse(o.selections):(a.value=[],g.value=((d=r.value)==null?void 0:d.value)!=o.value&&(p=(_=r.value)==null?void 0:_.value)!=null?p:o.value),((y=c.value)==null?void 0:y.value)&&(a.value=JSON.parse(c.value.value))};return j(()=>{}),q(()=>{i()}),J(()=>{}),L(()=>{M()}),{fieldName:x,targetField:r,selectedValues:a,colorValues:v,disabled:S,value:g}}},le=["for","contrast","base","disabled"],ae=["id","value","disabled"];function oe(o,l,s,a,v,r){const c=m("MDText"),x=m("md-sheettitle"),g=m("md-swatchkey"),S=m("md-swatchvalue"),C=m("md-swatchlabel"),w=m("md-colorlist"),M=m("md-sheetbody"),D=m("md-sheet");return b(),V(D,{id:s.id,title:s.title,class:"md-sheet"},{default:h(()=>[f(M,null,{default:h(()=>[f(x,null,{default:h(()=>[f(c,{label:s.title,scale:"body2",tag:"span"},null,8,["label"])]),_:1}),I(O("input",{type:"color",class:"md-colorpicker","onUpdate:modelValue":l[0]||(l[0]=i=>a.value=i)},null,512),[[P,a.value]]),a.colorValues?(b(),V(w,{key:0},{default:h(()=>[(b(!0),A(K,null,R(a.colorValues,(i,e)=>(b(),A("label",{for:i.toID(),class:"md-swatch",key:e,style:Q(i.toStyle()),contrast:i.accessibility(),base:i.isBaseColor(),disabled:a.disabled(i.toString())},[I(O("input",{type:"checkbox",id:i.toID(),value:i.toString(),"onUpdate:modelValue":l[1]||(l[1]=n=>a.selectedValues=n),disabled:a.disabled(i.toString())},null,8,ae),[[W,a.selectedValues]]),f(C,null,{default:h(()=>[f(g,null,{default:h(()=>[B(N(i.key),1)]),_:2},1024),f(S,null,{default:h(()=>[B(N(i.toString()),1)]),_:2},1024)]),_:2},1024)],12,le))),128))]),_:1})):G("",!0)]),_:1})]),_:1},8,["id","title"])}var se=E(te,[["render",oe],["styles",[ee]]]);function ne(){const o=X(se);customElements.define("md-vue-colorpicker",o)}ne();
//# sourceMappingURL=rs-md-colorfield.js.map
